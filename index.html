<!doctype html>
<html lang="ar">
<head>
  <meta charset="utf-8">
  <title>Stockfish WASM Test</title>
</head>
<body>
  <h3>âš™ï¸ Stockfish WASM Test â€” Ø§ÙØªØ­ Ø§Ù„ÙƒÙˆÙ†Ø³ÙˆÙ„ (F12)</h3>

  <script>
    (async () => {
      try {
        // âœ… Ø¥Ù†Ø´Ø§Ø¡ Web Worker Ù„ØªØ´ØºÙŠÙ„ Stockfish Ø¯Ø§Ø®Ù„ thread Ù…Ù†ÙØµÙ„
        const engine = new Worker('stockfish.js');

        // ğŸ”¹ Ø§Ø³ØªÙ„Ø§Ù… Ø±Ø³Ø§Ø¦Ù„ Ù…Ù† Ø§Ù„Ù…Ø­Ø±Ùƒ (Ø§Ù„Ø±Ø¯ÙˆØ¯)
        engine.onmessage = (event) => {
          console.log('ğŸ§  Stockfish ->', event.data);
        };

        // ğŸ”¹ Ø¥Ø±Ø³Ø§Ù„ Ø£ÙˆØ§Ù…Ø± Ù„Ù„Ù…Ø­Ø±Ùƒ
        console.log('ğŸš€ Ø¨Ø¯Ø¡ Stockfish...');
        engine.postMessage('uci');
        engine.postMessage('isready');

        // Ù…Ø«Ø§Ù„: Ù†Ø­Ø¯Ø¯ ÙˆØ¶Ø¹ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© ÙˆÙ†Ø³Ø£Ù„Ù‡ Ø¹Ù† Ø£ÙØ¶Ù„ Ù†Ù‚Ù„Ø© Ø¨Ø¹Ø¯ e2e4 e7e5 g1f3
        engine.postMessage('position startpos moves e2e4 e7e5 g1f3');
        engine.postMessage('go movetime 1000'); // ÙÙƒØ± Ù„Ù…Ø¯Ø© Ø«Ø§Ù†ÙŠØ© ÙˆØ§Ø­Ø¯Ø©
      } 
      catch (err) {
        console.error('âŒ ÙØ´Ù„ ØªØ´ØºÙŠÙ„ Stockfish:', err);
      }
    })();
  </script>
</body>
</html>
